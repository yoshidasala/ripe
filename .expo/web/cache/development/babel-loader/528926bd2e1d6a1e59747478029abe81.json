{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { StatusBar } from \"expo-status-bar\";\nimport React, { useEffect, useState } from \"react\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { collection, getDocs, doc, setDoc } from \"firebase/firestore/lite\";\nimport * as Location from \"expo-location\";\nimport BottomTabNav from \"./BottomTabNav\";\nimport { auth } from \"../firebase\";\nimport { db } from \"../firebase\";\nimport { signOut } from \"firebase/auth\";\nimport { Component } from \"react\";\nexport default function HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      location = _useState4[0],\n      setLocation = _useState4[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$Location$reque, status, location, key, address;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Location.requestForegroundPermissionsAsync());\n\n            case 2:\n              _await$Location$reque = _context.sent;\n              status = _await$Location$reque.status;\n\n              if (!(status !== \"granted\")) {\n                _context.next = 7;\n                break;\n              }\n\n              setError(\"Permission to access location was denied\");\n              return _context.abrupt(\"return\");\n\n            case 7:\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 9:\n              location = _context.sent;\n              _context.next = 12;\n              return _regeneratorRuntime.awrap(Location.setGoogleApiKey(\"AIzaSyAYEsNqTwsN_zap_PtZRWrsQBACrrLA23g\"));\n\n            case 12:\n              key = _context.sent;\n              _context.next = 15;\n              return _regeneratorRuntime.awrap(Location.reverseGeocodeAsync({\n                latitude: location.coords.latitude,\n                longitude: location.coords.longitude\n              }));\n\n            case 15:\n              address = _context.sent;\n              setLocation(address);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var handleSignOut = function handleSignOut() {\n    signOut(auth).then(function () {\n      navigation.navigate(\"Landing\");\n    }).catch(function (error) {\n      return alert(error.message);\n    });\n  };\n\n  var text = \"Loading..\";\n\n  if (error) {\n    text = error;\n  } else if (location) {\n    text = JSON.stringify(location);\n  }\n\n  return React.createElement(View, {\n    style: styles.container\n  }, React.createElement(Text, {\n    style: styles.title\n  }, \"Home\"), React.createElement(View, {\n    style: styles.buttonContainer\n  }, React.createElement(TouchableOpacity, {\n    onPress: handleSignOut,\n    style: styles.button\n  }, React.createElement(Text, {\n    style: styles.buttonText\n  }, \"LOGOUT\")), React.createElement(TouchableOpacity, {\n    style: styles.button\n  }, loading === undefined ? \"...loading\" : React.createElement(Text, {\n    style: styles.buttonText\n  }, text))), React.createElement(StatusBar, {\n    style: \"auto\"\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#FCFBFC\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  button: {\n    fontcolor: \"#949494\",\n    width: \"40%\",\n    padding: 15,\n    borderRadius: 10,\n    alignItems: \"center\",\n    shadow: \"20px\"\n  },\n  title: {\n    alignItems: \"center\",\n    textDecorationColor: \"red\",\n    textDecorationLine: \"line-through\"\n  },\n  buttonContainer: {\n    width: \"60%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 40\n  },\n  buttonText: {\n    color: \"#9A9A9A\",\n    fontSize: 10\n  }\n});","map":{"version":3,"sources":["/Users/bootcamp/Desktop/ripe/components/HomeScreen.js"],"names":["NavigationContainer","StatusBar","React","useEffect","useState","collection","getDocs","doc","setDoc","Location","BottomTabNav","auth","db","signOut","Component","HomeScreen","navigation","error","setError","location","setLocation","requestForegroundPermissionsAsync","status","getCurrentPositionAsync","setGoogleApiKey","key","reverseGeocodeAsync","latitude","coords","longitude","address","handleSignOut","then","navigate","catch","alert","message","text","JSON","stringify","styles","container","title","buttonContainer","button","buttonText","loading","undefined","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","fontcolor","width","padding","borderRadius","shadow","textDecorationColor","textDecorationLine","marginTop","color","fontSize"],"mappings":"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","sourcesContent":["import { NavigationContainer } from \"@react-navigation/native\";\nimport { StatusBar } from \"expo-status-bar\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, StyleSheet, Text, View, TouchableOpacity } from \"react-native\";\nimport { collection, getDocs, doc, setDoc } from \"firebase/firestore/lite\";\n\nimport * as Location from \"expo-location\";\n\nimport BottomTabNav from \"./BottomTabNav\";\nimport { auth } from \"../firebase\";\nimport { db } from \"../firebase\";\nimport { signOut } from \"firebase/auth\";\nimport { Component } from \"react\";\n\n// Geocoder.init(\"AIzaSyAYEsNqTwsN_zap_PtZRWrsQBACrrLA23g\"); // use a valid API key\n\nexport default function HomeScreen({ navigation }) {\n  const [error, setError] = useState(\"\");\n  const [location, setLocation] = useState({});\n\n  useEffect(() => {\n    (async () => {\n      let { status } = await Location.requestForegroundPermissionsAsync();\n      if (status !== \"granted\") {\n        setError(\"Permission to access location was denied\");\n        return;\n      }\n\n      let location = await Location.getCurrentPositionAsync({});\n      let key = await Location.setGoogleApiKey(\n        \"AIzaSyAYEsNqTwsN_zap_PtZRWrsQBACrrLA23g\"\n      );\n      let address = await Location.reverseGeocodeAsync(\n        {\n          latitude: location.coords.latitude,\n          longitude: location.coords.longitude,\n        },\n        // { useGoogleMaps: true }\n      );\n\n      setLocation(address);\n    })();\n  }, []);\n\n  const handleSignOut = () => {\n    signOut(auth)\n      .then(() => {\n        navigation.navigate(\"Landing\");\n      })\n\n      .catch((error) => alert(error.message));\n  };\n\n  let text = \"Loading..\";\n  if (error) {\n    text = error;\n  } else if (location) {\n    text = JSON.stringify(location);\n  }\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Home</Text>\n      <View style={styles.buttonContainer}>\n        <TouchableOpacity onPress={handleSignOut} style={styles.button}>\n          <Text style={styles.buttonText}>LOGOUT</Text>\n        </TouchableOpacity>\n        <TouchableOpacity style={styles.button}>\n          {loading ===undefined? \"...loading\":<Text style={styles.buttonText}>{text}</Text>}\n\n        </TouchableOpacity>\n        {/* <BottomTabNav /> */}\n      </View>\n      <StatusBar style='auto' />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#FCFBFC\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  button: {\n    fontcolor: \"#949494\",\n    width: \"40%\",\n    padding: 15,\n    borderRadius: 10,\n    alignItems: \"center\",\n    shadow: \"20px\",\n  },\n  title: {\n    alignItems: \"center\",\n    textDecorationColor: \"red\",\n    textDecorationLine: \"line-through\",\n  },\n  buttonContainer: {\n    width: \"60%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 40,\n  },\n\n  buttonText: {\n    color: \"#9A9A9A\",\n\n    fontSize: 10,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}