{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { StatusBar } from \"expo-status-bar\";\nimport React, { useEffect, useState } from \"react\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { collection, getDocs, doc, setDoc } from \"firebase/firestore/lite\";\nimport * as Location from \"expo-location\";\nimport summer from \"../assets/summer.png\";\nimport BottomTabNav from \"./BottomTabNav\";\nimport { auth } from \"../firebase\";\nimport { db } from \"../firebase\";\nimport { signOut } from \"firebase/auth\";\nimport { Component } from \"react\";\nexport default function HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      location = _useState4[0],\n      setLocation = _useState4[1];\n\n  var getSeason = function getSeason(d) {\n    return Math.floor(d.getMonth() / 12 * 4) % 4;\n  };\n\n  console.log(\"Southern hemisphere (Summer as Dec/Jan/Feb etc...):\");\n  console.log([\"Summer\", \"Autumn\", \"Winter\", \"Spring\"][getSeason(new Date())]);\n  console.log(\"Northern hemisphere (Winter as Dec/Jan/Feb etc...):\");\n  console.log([\"Winter\", \"Spring\", \"Summer\", \"Autumn\"][getSeason(new Date())]);\n  useEffect(function () {\n    (function _callee() {\n      var _await$Location$reque, status, location, key, address;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Location.requestForegroundPermissionsAsync());\n\n            case 2:\n              _await$Location$reque = _context.sent;\n              status = _await$Location$reque.status;\n\n              if (!(status !== \"granted\")) {\n                _context.next = 7;\n                break;\n              }\n\n              setError(\"Permission to access location was denied\");\n              return _context.abrupt(\"return\");\n\n            case 7:\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 9:\n              location = _context.sent;\n              _context.next = 12;\n              return _regeneratorRuntime.awrap(Location.setGoogleApiKey(\"AIzaSyAYEsNqTwsN_zap_PtZRWrsQBACrrLA23g\"));\n\n            case 12:\n              key = _context.sent;\n              _context.next = 15;\n              return _regeneratorRuntime.awrap(Location.reverseGeocodeAsync({\n                latitude: location.coords.latitude,\n                longitude: location.coords.longitude\n              }));\n\n            case 15:\n              address = _context.sent;\n              setLocation(address);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var handleSignOut = function handleSignOut() {\n    signOut(auth).then(function () {\n      navigation.navigate(\"Landing\");\n    }).catch(function (error) {\n      return alert(error.message);\n    });\n  };\n\n  var text = \"Loading..\";\n\n  if (error) {\n    text = error;\n  } else if (location[0]) {\n    console.log(location[0]);\n    text = JSON.stringify(location[0]);\n    text = JSON.parse(text);\n  }\n\n  return React.createElement(View, {\n    style: styles.container\n  }, React.createElement(TouchableOpacity, {\n    style: styles.button\n  }, location === {} ? \"...loading\" : React.createElement(Text, {\n    style: styles.buttonText\n  }, \"Your Current Location is \", text.city, \",\", text.country)), React.createElement(Text, {\n    style: styles.title\n  }, \"Home\"), React.createElement(View, {\n    style: styles.buttonContainer\n  }, React.createElement(TouchableOpacity, {\n    onPress: handleSignOut,\n    style: styles.button\n  }, React.createElement(Text, {\n    style: styles.buttonText\n  }, \"LOGOUT\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate(\"WINTER\");\n    },\n    style: styles.button\n  }, React.createElement(Text, {\n    style: styles.buttonText\n  }, \"WINTER\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate(\"WINTER\");\n    },\n    style: styles.button\n  }, React.createElement(Text, {\n    style: styles.buttonText\n  }, \"  SUMMER\"), React.createElement(Image, {\n    source: summer,\n    style: {\n      width: 20,\n      height: 20,\n      padding: 20\n    }\n  }))), React.createElement(StatusBar, {\n    style: \"auto\"\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#FCFBFC\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  button: {\n    fontcolor: \"#949494\",\n    width: \"40%\",\n    padding: 15,\n    borderRadius: 10,\n    alignItems: \"center\",\n    shadow: \"20px\"\n  },\n  title: {\n    alignItems: \"center\",\n    textDecorationColor: \"red\",\n    textDecorationLine: \"line-through\"\n  },\n  buttonContainer: {\n    width: \"60%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 40\n  },\n  buttonText: {\n    color: \"#9A9A9A\",\n    fontSize: 10\n  }\n});","map":{"version":3,"sources":["/Users/bootcamp/Desktop/ripe/components/HomeScreen.js"],"names":["NavigationContainer","StatusBar","React","useEffect","useState","collection","getDocs","doc","setDoc","Location","summer","BottomTabNav","auth","db","signOut","Component","HomeScreen","navigation","error","setError","location","setLocation","getSeason","d","Math","floor","getMonth","console","log","Date","requestForegroundPermissionsAsync","status","getCurrentPositionAsync","setGoogleApiKey","key","reverseGeocodeAsync","latitude","coords","longitude","address","handleSignOut","then","navigate","catch","alert","message","text","JSON","stringify","parse","styles","container","button","buttonText","city","country","title","buttonContainer","width","height","padding","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","fontcolor","borderRadius","shadow","textDecorationColor","textDecorationLine","marginTop","color","fontSize"],"mappings":"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","sourcesContent":["import { NavigationContainer } from \"@react-navigation/native\";\nimport { StatusBar } from \"expo-status-bar\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  Button,\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n  Image,\n} from \"react-native\";\nimport { collection, getDocs, doc, setDoc } from \"firebase/firestore/lite\";\n\nimport * as Location from \"expo-location\";\nimport summer from \"../assets/summer.png\";\nimport BottomTabNav from \"./BottomTabNav\";\nimport { auth } from \"../firebase\";\nimport { db } from \"../firebase\";\nimport { signOut } from \"firebase/auth\";\nimport { Component } from \"react\";\n\n// Geocoder.init(\"AIzaSyAYEsNqTwsN_zap_PtZRWrsQBACrrLA23g\"); // use a valid API key\n\nexport default function HomeScreen({ navigation }) {\n  const [error, setError] = useState(\"\");\n  const [location, setLocation] = useState({});\n\n  const getSeason = (d) => Math.floor((d.getMonth() / 12) * 4) % 4;\n\n  console.log(\"Southern hemisphere (Summer as Dec/Jan/Feb etc...):\");\n  console.log([\"Summer\", \"Autumn\", \"Winter\", \"Spring\"][getSeason(new Date())]);\n\n  console.log(\"Northern hemisphere (Winter as Dec/Jan/Feb etc...):\");\n  console.log([\"Winter\", \"Spring\", \"Summer\", \"Autumn\"][getSeason(new Date())]);\n  useEffect(() => {\n    (async () => {\n      let { status } = await Location.requestForegroundPermissionsAsync();\n      if (status !== \"granted\") {\n        setError(\"Permission to access location was denied\");\n        return;\n      }\n\n      let location = await Location.getCurrentPositionAsync({});\n      let key = await Location.setGoogleApiKey(\n        \"AIzaSyAYEsNqTwsN_zap_PtZRWrsQBACrrLA23g\"\n      );\n      let address = await Location.reverseGeocodeAsync(\n        {\n          latitude: location.coords.latitude,\n          longitude: location.coords.longitude,\n        }\n        // { useGoogleMaps: true }\n      );\n\n      setLocation(address);\n    })();\n  }, []);\n\n  const handleSignOut = () => {\n    signOut(auth)\n      .then(() => {\n        navigation.navigate(\"Landing\");\n      })\n\n      .catch((error) => alert(error.message));\n  };\n\n  let text = \"Loading..\";\n  if (error) {\n    text = error;\n  } else if (location[0]) {\n    console.log(location[0]);\n    text = JSON.stringify(location[0]);\n    text = JSON.parse(text);\n  }\n\n  return (\n    <View style={styles.container}>\n      <TouchableOpacity style={styles.button}>\n        {location === {} ? (\n          \"...loading\"\n        ) : (\n          <Text style={styles.buttonText}>\n            Your Current Location is {text.city},{text.country}\n          </Text>\n        )}\n      </TouchableOpacity>\n      <Text style={styles.title}>Home</Text>\n      <View style={styles.buttonContainer}>\n        <TouchableOpacity onPress={handleSignOut} style={styles.button}>\n          <Text style={styles.buttonText}>LOGOUT</Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          onPress={() => navigation.navigate(\"WINTER\")}\n          style={styles.button}\n        >\n          <Text style={styles.buttonText}>WINTER</Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          onPress={() => navigation.navigate(\"WINTER\")}\n          style={styles.button}\n        >\n\n          <Text style={styles.buttonText}>  SUMMER</Text>\n\n          <Image source={summer} style={{ width: 20, height: 20 ,padding:20}} />\n        </TouchableOpacity>\n\n        {/* <BottomTabNav /> */}\n      </View>\n      <StatusBar style='auto' />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#FCFBFC\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  button: {\n    fontcolor: \"#949494\",\n    width: \"40%\",\n    padding: 15,\n    borderRadius: 10,\n    alignItems: \"center\",\n    shadow: \"20px\",\n  },\n  title: {\n    alignItems: \"center\",\n    textDecorationColor: \"red\",\n    textDecorationLine: \"line-through\",\n  },\n  buttonContainer: {\n    width: \"60%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 40,\n  },\n\n  buttonText: {\n    color: \"#9A9A9A\",\n\n    fontSize: 10,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}